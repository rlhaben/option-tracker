<!DOCTYPE html>
<html>
<head>
  <title>Options Tracker</title>
</head>
<body>
  <h1>Option P/L Tracker</h1>
  <input id="ticker" placeholder="Ticker (e.g. SPY)" />
  <button onclick="getData()">Fetch</button>
  <div id="result"></div>

  <script>
    async function getData() {
      const ticker = document.getElementById("ticker").value.toUpperCase();
      const res = await fetch(`/api/options?ticker=${ticker}`);
      const data = await res.json();

      const price = data.price;
      const firstCall = data.calls[0];
      const avgPrice = (firstCall.bid + firstCall.ask) / 2;

      document.getElementById("result").innerHTML = `
        <p>Underlying Price: $${price}</p>
        <p>First Call Strike: ${firstCall.strike}</p>
        <p>Bid/Ask: ${firstCall.bid} / ${firstCall.ask}</p>
        <p>Estimated Value: $${avgPrice.toFixed(2)}</p>
      `;
    }
  </script>
</body>
</html>