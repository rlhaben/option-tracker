<!DOCTYPE html>
<html>
<head>
  <title>Options Fetcher</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body.dark-mode {
      background-color: #121212;
      color: #f0f0f0;
    }
    .dark-mode .form-control,
    .dark-mode .btn {
      background-color: #1e1e1e;
      color: #f0f0f0;
      border-color: #444;
    }
  </style>
</head>
<body class="container mt-4">
  <h1>Fetch Options HTML</h1>
  <div class="input-group mb-3">
    <input id="ticker" class="form-control" placeholder="Enter ticker (e.g. SPY)" />
    <button class="btn btn-primary" onclick="loadOptions()">Fetch</button>
  </div>
  <button class="btn btn-secondary mb-3" onclick="toggleDarkMode()">Toggle Dark Mode</button>
  <iframe id="frame" class="w-100" style="height:300px;"></iframe>

  <script>
    function loadOptions() {
      const ticker = document.getElementById("ticker").value;
      const isDark = document.body.classList.contains("dark-mode");
      const frame = document.getElementById("frame");
      frame.src = "/api/options?ticker=" + encodeURIComponent(ticker) + "&dark=" + (isDark ? "1" : "0");
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }
  </script>
</body>
</html>